---
import Card from "../../components/Card.astro";
import Showcase from "../../components/Showcase.astro";
import Layout from "../../layouts/Layout.astro";

const response = await fetch('https://jsonplaceholder.typicode.com/posts?_limit=5');

const posts = await response.json();
---

<Layout title="Astro | Blogs">

    <Showcase heading="Astro Blog" text="A simple blog built with astro"></Showcase>
    
    <section class="page-content">

        <div class="container">

            {posts.map(post =>(
                <Card>
                    <h3>{post.title}</h3>  
                    <p>{post.body}</p>  
                    <a class="btn" href={`/blog/${post.id}`}>Read More</a>
                </Card>
            ))}
        </div>
    </section>
</Layout>